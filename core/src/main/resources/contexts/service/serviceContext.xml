<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:aop="http://www.springframework.org/schema/aop"
	   xsi:schemaLocation=
             "http://www.springframework.org/schema/beans 
              http://www.springframework.org/schema/beans/spring-beans.xsd
              http://www.springframework.org/schema/aop 
              http://www.springframework.org/schema/aop/spring-aop.xsd">

    <!-- this element causes spring to configure the
         AnnotationBeanConfigurer aspect in spring-aspects.jar
         so that it has a reference to the bean factory 
    -->
    <aop:spring-configured/>

    <!-- configuration of Account bean, because we don't specify an 
         id, the class name will be used as the bean name. This 
         conveniently matches the behaviour of @Configurable when no
         bean name is given in the annotation 
     -->
    <bean 
       class="dk.bregnvig.formula1.Race"
       lazy-init="true">
       <property name="resultStrategy" ref="resultStrategy"/>
       <property name="timers">
       		<list>
       			<ref bean="timerEmailWarning"/>
       		</list>
       </property>
       <property name="listeners">
       		<list>
       			<ref bean="wbcListener"/>
       		</list>
       </property>
    </bean>
    
    <bean id="timerEmailWarning" class="dk.bregnvig.formula1.event.EmailReminderService" scope="prototype">
    	<property name="days" value="7"/>
    </bean>

    <!-- service used by the Account bean -->
    <bean id="resultStrategy"
      class="dk.bregnvig.formula1.bid.DefaultResultStrategy">
    </bean>

    <bean id="wbcListener" class="dk.bregnvig.formula1.wbc.WBCListener" scope="prototype"/>
    
    <bean 
       class="dk.bregnvig.formula1.wbc.WBC"
       lazy-init="true">
       <property name="points">
       		<list>
       			<value>10</value>
       			<value>8</value>
       			<value>6</value>
       			<value>5</value>
       			<value>4</value>
       			<value>3</value>
       			<value>2</value>
       			<value>1</value>
       		</list>
       </property>
    </bean>

</beans>